{"version":3,"sources":["../../src/providers/carga-archivos/carga-archivos.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/home/home.ts","../../src/pages/subir/subir.ts","../../src/providers/auth-service/auth-service.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/config/firebase.config.ts","../../src/pipes/placeholder/placeholder.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { ToastController } from 'ionic-angular';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as firebase from 'firebase';\n\n\n@Injectable()\nexport class CargaArchivosService {\n\n  private CARPETA_IMAGENES:string = \"img\";\n  private POSTS:string = \"posts\";\n\n  imagenes:any[]=[];\n  lastKey:string = undefined;\n\n  constructor( public afDB: AngularFireDatabase,\n                private toastCtrl:ToastController) {}\n\n\n  cargar_imagenes(){\n    return new Promise((resolve, reject)=>{\n        this.afDB.list(\"/posts\", {\n          query:{\n            limitToLast:4,\n            orderByKey: true,\n            endAt: this.lastKey\n          }\n        })\n        .subscribe(posts=>{\n            if (this.lastKey) {\n                posts.pop();\n            }\n\n            if (posts.length == 0) {\n                console.log(\"Ya no existen registros\");\n                resolve(false);\n                return;\n            }\n\n            this.lastKey = posts[0].$key;\n\n            for (let i = posts.length-1; i>=0; i--) {\n                let post= posts[i];\n                this.imagenes.push( post );\n            }\n\n            resolve(true);\n\n        })\n    })\n\n  }\n\n\n  cargar_imagenes_firebase( archivo:archivoSubir ){\n      let promesa = new Promise( (resolve, reject)=>{\n          this.mostrar_toast(\"Inicio de carga\");\n\n          let storageRef = firebase.storage().ref();\n          let nombreArchivo = new Date().valueOf(); //esto devuelve la fecha pero solo numeros 20170901\n\n          let uploadTask:firebase.storage.UploadTask =\n                storageRef.child(`${ this.CARPETA_IMAGENES}/${ nombreArchivo }`)\n                .putString(archivo.img, 'base64', { contentType: 'image/jpeg'} );\n\n          uploadTask.on( firebase.storage.TaskEvent.STATE_CHANGED,\n            ( snapshot)=>{},//Saber el avance del archivo\n            (error)=>{ //manejo de errores\n              console.error(\"Error al subir \", JSON.stringify( error ));\n              this.mostrar_toast(\"Error al cargar: \" + JSON.stringify( error ) );\n              reject(error);\n            },\n            ()=>{ //termino el proceso\n              let url = uploadTask.snapshot.downloadURL;\n              this.mostrar_toast(\"Imagen cargada exitosamente!!\");\n              this.crear_post( archivo.titulo, url);\n              resolve();\n            }\n\n\n          )\n      });\n\n      return promesa;\n  }\n\n\nprivate crear_post( titulo:string, url:string){\n    let post:archivoSubir = {\n      img: url,\n      titulo: titulo\n    };\n\n    let $key = this.afDB.list(`/${ this.POSTS}`).push( post ).key;\n\n    post.$key = $key;\n\n    this.imagenes.push( post );\n}\n\n\n\nprivate mostrar_toast( texto:string){\n    this.toastCtrl.create({\n        message:texto,\n        duration: 2500\n    }).present();\n}\n\n\n}\n\ninterface archivoSubir{\n    $key?:string;\n    img:string;\n    titulo:string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/carga-archivos/carga-archivos.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 161;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 161\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 202;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 202\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NavController, ModalController } from 'ionic-angular';\r\n\r\nimport { SubirPage } from '../subir/subir';\r\n\r\n//servicios\r\nimport { CargaArchivosService } from '../../providers/carga-archivos/carga-archivos';\r\nimport { AuthService } from '../../providers/auth-service/auth-service';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\n\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n\r\nhayMas:boolean = true;\r\n\r\n  constructor(private modalCtrl:ModalController,\r\n              private _cas:CargaArchivosService,\r\n              private _auth: AuthService,\r\n              private afAuth: AngularFireAuth) {\r\n\r\n          this._cas.cargar_imagenes();\r\n  }\r\n\r\n\r\n  salir(){\r\n      this._auth.signOut();\r\n  }\r\n\r\n  ingresar(): void {\r\n    this.afAuth.auth\r\n      .signInWithPopup(new firebase.auth.FacebookAuthProvider())\r\n      .then(res => console.log(\"Facebook nombre \", res.user.displayName));\r\n      // .then(() => this.onSignInSuccess());\r\n  }\r\n\r\n  // private onSignInSuccess(): void {\r\n  //   console.log(\"Facebook nombre \",this._auth.displayName());\r\n  // }\r\n\r\n\r\n  cargar_siguientes( infiniteScroll:any){\r\n      console.log(\"siguientes\");\r\n      this._cas.cargar_imagenes()\r\n              .then(\r\n                ( existenMas:boolean )=>{\r\n                  infiniteScroll.complete();\r\n                  console.log(existenMas);\r\n                  this.hayMas = existenMas\r\n                })\r\n  }\r\n\r\n  mostrar_modal(){\r\n      let modal = this.modalCtrl.create( SubirPage);\r\n      modal.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\n\nimport { ViewController, ToastController, Platform, LoadingController } from 'ionic-angular';\n\n//plugins\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n\n//Aparecio este mensaje al instalar Image Picker\n// You have been opted out of telemetry. To change this, run: cordova telemetry on.\n// Adding com.synconset.imagepicker to package.json\n// Saved plugin info for \"com.synconset.imagepicker\" to config.xml\nimport { ImagePicker, ImagePickerOptions } from '@ionic-native/image-picker';\n\n//Servicios\nimport { CargaArchivosService } from '../../providers/carga-archivos/carga-archivos';\n\n\n@Component({\n  selector: 'page-subir',\n  templateUrl: 'subir.html',\n})\nexport class SubirPage {\n\n  titulo:string = \"\";\n  imgPreview:string = null;\n  img:string = \"\";\n\n  constructor( private viewCtrl:ViewController,\n                private camera: Camera,\n                private imagePicker: ImagePicker,\n                private toastCtrl:ToastController,\n                private _cas:CargaArchivosService,\n                private loadingCtrl:LoadingController,\n                private platform:Platform) {\n  }\n\n  crear_post(){\n    console.log(\"Subiendo imagen\");\n\n    let archivo={\n      'titulo': this.titulo,\n      'img': this.img\n    };\n\n    let loader = this.loadingCtrl.create({\n      content: \"Subiendo...\"\n\n    });\n    loader.present();\n\n    this._cas.cargar_imagenes_firebase( archivo )\n          .then(\n            ()=>{\n                loader.dismiss();\n                this.cerrar_modal();\n            },\n            (error) =>{\n              loader.dismiss();\n              this.mostrar_toast(\"Error al cargar: \" + error);\n              console.error(\"Error al cargar: \", JSON.stringify(error) );\n            }\n          )\n\n\n  }\n\n  cerrar_modal(){\n      this.viewCtrl.dismiss();\n  }\n\n  mostrar_camara(){\n\n    if( !this.platform.is(\"cordova\")){\n        this.mostrar_toast(\"Error, no estamos en un celular\");\n        return;\n    }\n\n    const options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      correctOrientation: true\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n     // imageData is either a base64 encoded string or a file URI\n     // If it's base64:\n     this.imgPreview = 'data:image/jpeg;base64,' + imageData;\n     this.img = imageData;\n    }, (err) => {\n     this.mostrar_toast(\"Error: \" + err);\n     console.error(\"Error en la camara: \", err);\n    });\n\n  }\n\n  seleccionar_fotos(){\n\n    if( !this.platform.is(\"cordova\")){\n        this.mostrar_toast(\"Error, no estamos en un celular\");\n        return;\n    }\n\n    let opciones: ImagePickerOptions = {\n        maximumImagesCount: 1,\n        quality: 40,\n        outputType: 1\n    }\n\n    this.imagePicker.getPictures(opciones).then((results) => {\n\n      for( let img of results){\n        this.imgPreview = 'data:image/jpeg;base64,' + img\n        this.img = img;\n        break;\n      }\n\n    }, (err) => {\n        this.mostrar_toast(\"Error seleccion: \" + err);\n        console.error(\"Error seleccion: \" + JSON.stringify( err ) );\n    });\n  }\n\n\n  private mostrar_toast( texto:string){\n     this.toastCtrl.create({\n       message: texto,\n       duration: 2500\n     }).present();\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/subir/subir.ts","import { Observable } from 'rxjs/Observable';\nimport { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\n// Do not import from 'firebase' as you'll lose the tree shaking benefits\nimport * as firebase from 'firebase/app';\n\nimport { Platform } from 'ionic-angular';\n// import { Facebook } from 'ionic-native';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\n\n@Injectable()\nexport class AuthService {\n  displayName;\n\n    constructor(private afAuth: AngularFireAuth, private fb: Facebook, private platform: Platform) {\n      afAuth.authState.subscribe((user: firebase.User) => {\n        if (!user) {\n          this.displayName = null;\n          return;\n        }\n        this.displayName = user.displayName;\n      });\n    }\n\n    signInWithFacebook() {\n      if (this.platform.is('cordova')) {\n        return this.fb.login(['email', 'public_profile']).then(res => {\n          const facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n          return firebase.auth().signInWithCredential(facebookCredential);\n        })\n      }\n      else {\n        return this.afAuth.auth\n          .signInWithPopup(new firebase.auth.FacebookAuthProvider())\n          .then(res => console.log(res));\n      }\n    }\n\n    signOut() {\n      this.afAuth.auth.signOut();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-service/auth-service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { SubirPage } from '../pages/subir/subir';\n\n//Firebase\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { firebaseConfig } from '../config/firebase.config';\nimport { Facebook } from '@ionic-native/facebook';\n\n//Pipes\nimport { PlaceholderPipe } from '../pipes/placeholder/placeholder';\n\n//plugins\nimport { Camera } from '@ionic-native/camera';\nimport { ImagePicker } from '@ionic-native/image-picker';\n\n//Servicios / providers\nimport { CargaArchivosService } from '../providers/carga-archivos/carga-archivos';\nimport { AuthService } from '../providers/auth-service/auth-service';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    SubirPage,\n    PlaceholderPipe\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    SubirPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Camera,\n    ImagePicker,\n    Facebook,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    CargaArchivosService,\n    AuthService\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","\r\n\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyBpft_Z1OhW-S0P8XrINvWKtrrFJ3Eu63A\",\r\n   authDomain: \"gag-b4931.firebaseapp.com\",\r\n   databaseURL: \"https://gag-b4931.firebaseio.com\",\r\n   projectId: \"gag-b4931\",\r\n   storageBucket: \"gag-b4931.appspot.com\",\r\n   messagingSenderId: \"411343910772\"\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/firebase.config.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'placeholder',\n})\nexport class PlaceholderPipe implements PipeTransform {\n\n  transform(value: string, defecto:string=\"Titulo\") {\n    \n    return (value)? value : defecto;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/placeholder/placeholder.ts"],"sourceRoot":""}